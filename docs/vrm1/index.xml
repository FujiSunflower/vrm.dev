<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>VRM – VRM-1.0β</title><link>https://vrm.dev/docs/vrm1/</link><description>Recent content in VRM-1.0β on VRM</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Thu, 05 Aug 2021 00:00:00 +0000</lastBuildDate><atom:link href="https://vrm.dev/docs/vrm1/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: VRM-1.0の変更点</title><link>https://vrm.dev/docs/vrm1/changed/</link><pubDate>Thu, 05 Aug 2021 00:00:00 +0000</pubDate><guid>https://vrm.dev/docs/vrm1/changed/</guid><description>
&lt;h2 id="vrm-0x-からの変更点">VRM-0.X からの変更点&lt;/h2>
&lt;ul>
&lt;li>glTF: z- forward =&amp;gt; z+ forward&lt;/li>
&lt;li>glTF: shared bufferView =&amp;gt; divided bufferView&lt;/li>
&lt;li>VRM0: meta =&amp;gt; &lt;code>VRMC_vrm&lt;/code> meta&lt;/li>
&lt;li>VRM0: humanoid =&amp;gt; &lt;code>VRMC_vrm&lt;/code> humanoid&lt;/li>
&lt;li>VRM0: blendshape =&amp;gt; &lt;code>VRMC_vrm&lt;/code> expression&lt;/li>
&lt;li>VRM0: lookat =&amp;gt; &lt;code>VRMC_vrm&lt;/code> lookat&lt;/li>
&lt;li>VRM0: firstperson =&amp;gt; &lt;code>VRMC_vrm&lt;/code> firstperson&lt;/li>
&lt;li>VRM0: springBone =&amp;gt; &lt;code>VRMC_springBone&lt;/code>&lt;/li>
&lt;li>&lt;code>新規&lt;/code> =&amp;gt; &lt;code>VRMC_materials_hdr_emissiveMultiplier&lt;/code>&lt;/li>
&lt;li>VRM0: mtoon =&amp;gt; &lt;code>VRMC_materials_mtoon&lt;/code>&lt;/li>
&lt;li>&lt;code>新規&lt;/code> =&amp;gt; &lt;code>VRMC_node_constraint&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="gltf-z-forward">glTF: z+ forward&lt;/h2>
&lt;p>モデルは Z+ 方向が前方になるように格納します。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;/th>
&lt;th>VRM0&lt;/th>
&lt;th>VRM1&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>forward&lt;/td>
&lt;td>z-&lt;/td>
&lt;td>z+&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>right&lt;/td>
&lt;td>x+&lt;/td>
&lt;td>x-&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">実装&lt;/h4>
&lt;p>Y軸 180 度の回転になります。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-cs" data-lang="cs">Vector3 vrm0;
&lt;span style="color:#078;font-weight:bold">var&lt;/span> vrm1 = &lt;span style="color:#069;font-weight:bold">new&lt;/span> Vector3(-vrm0.x, vrm0.y, -vrm0.z);
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>TODO&lt;/code>&lt;/p>
&lt;/div>
&lt;h2 id="gltf-divided-vertex-buffer">glTF: divided vertex buffer&lt;/h2>
&lt;p>bufferView の primitive 間での共有をやめます。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;/th>
&lt;th>VRM0&lt;/th>
&lt;th>VRM1&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>bufferView&lt;/td>
&lt;td>shared&lt;/td>
&lt;td>divided&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>利点&lt;/td>
&lt;td>GameEngine メモリレイアウトに近いので変換が少ない&lt;/td>
&lt;td>一般的な glTF ローダーでロードできる&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>欠点&lt;/td>
&lt;td>UniVRM 以外の glTF ローダーでメモリ使用量が爆発する可能性(ロードできるが頂点バッファに未使用領域ができてしまう)&lt;/td>
&lt;td>export 時に頂点の増加・並び順の変化がありえる。import 時に連結する手間。morphTarget の扱いが煩雑&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">実装&lt;/h4>
&lt;code>Vrm&lt;/code> 専用の共有頂点ローダーをやめて、
一般的な &lt;code>glTF&lt;/code> ローダーで問題ありません。
&lt;/div>
&lt;h2 id="vrmc_vrm-meta">VRMC_vrm: meta&lt;/h2>
&lt;p>&lt;code>TODO&lt;/code>&lt;/p>
&lt;h2 id="vrmc_vrm-humanoid">VRMC_vrm: humanoid&lt;/h2>
&lt;p>必須ボーンの見直し。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;/th>
&lt;th>VRM0&lt;/th>
&lt;th>VRM1&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>neck&lt;/td>
&lt;td>必須&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>head&lt;/td>
&lt;td>必須&lt;/td>
&lt;td>必須&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>hips&lt;/td>
&lt;td>必須&lt;/td>
&lt;td>必須&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>spine&lt;/td>
&lt;td>必須&lt;/td>
&lt;td>必須&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>chest&lt;/td>
&lt;td>必須&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>left/right UpperArm&lt;/td>
&lt;td>必須&lt;/td>
&lt;td>必須&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>left/right LowerArm&lt;/td>
&lt;td>必須&lt;/td>
&lt;td>必須&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>left/right Hand&lt;/td>
&lt;td>必須&lt;/td>
&lt;td>必須&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>left/right UpperLeg&lt;/td>
&lt;td>必須&lt;/td>
&lt;td>必須&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>left/right LowerLeg&lt;/td>
&lt;td>必須&lt;/td>
&lt;td>必須&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>left/right Foot&lt;/td>
&lt;td>必須&lt;/td>
&lt;td>必須&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>以下の項目が廃止になります(&lt;code>VRMHumanoidDescription&lt;/code> に記録されていた)。&lt;/p>
&lt;ul>
&lt;li>armStretch&lt;/li>
&lt;li>legStretch&lt;/li>
&lt;li>upperArmTwist&lt;/li>
&lt;li>lowerArmTwist&lt;/li>
&lt;li>upperLegTwist&lt;/li>
&lt;li>lowerLegTwist&lt;/li>
&lt;li>feetSpacing&lt;/li>
&lt;li>hasTranslationDoF&lt;/li>
&lt;/ul>
&lt;h2 id="vrmc_vrm-expression">VRMC_vrm: expression&lt;/h2>
&lt;p>BlendShapeは、Expression に名称を変更します。&lt;/p>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">BlendShape&lt;/h4>
BlendShapeは Unity の MorphTarget 機能のことで、区別が付きにくかったためです。
&lt;/div>
&lt;p>preset の見直し&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;/th>
&lt;th>VRM0&lt;/th>
&lt;th>VRM1&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>喜&lt;/td>
&lt;td>joy(joyとfunが曖昧)&lt;/td>
&lt;td>happy&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>怒&lt;/td>
&lt;td>angry&lt;/td>
&lt;td>angry&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>哀&lt;/td>
&lt;td>sorrow(文語)&lt;/td>
&lt;td>sad&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>楽&lt;/td>
&lt;td>fun(joyとfunが曖昧)&lt;/td>
&lt;td>relaxed&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>驚&lt;/td>
&lt;td>(新規追加)&lt;/td>
&lt;td>surprised&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>あ&lt;/td>
&lt;td>a(非日本語で自然なように変更)&lt;/td>
&lt;td>aa&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>い&lt;/td>
&lt;td>i(非日本語で自然なように変更)&lt;/td>
&lt;td>ih&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>う&lt;/td>
&lt;td>u(非日本語で自然なように変更)&lt;/td>
&lt;td>ou&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>え&lt;/td>
&lt;td>e(非日本語で自然なように変更)&lt;/td>
&lt;td>ee&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>お&lt;/td>
&lt;td>o(非日本語で自然なように変更)&lt;/td>
&lt;td>oh&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;ul>
&lt;li>overrideMouse, overrideLipSync, overrideBlink 設定の追加&lt;/li>
&lt;li>VRM0 の materialBind から MaterialColorBind と TextureTransformBind に整理&lt;/li>
&lt;/ul>
&lt;h2 id="vrmc_vrm-lookat">VRMC_vrm: lookat&lt;/h2>
&lt;ul>
&lt;li>&lt;code>degreemap.curve&lt;/code> が廃止になります&lt;/li>
&lt;/ul>
&lt;h2 id="vrmc_vrm-firstperson">VRMC_vrm: firstperson&lt;/h2>
&lt;ul>
&lt;li>&lt;code>firstPersonBone&lt;/code> は廃止になり、&lt;code>Head&lt;/code> 固定になります&lt;/li>
&lt;li>&lt;code>firstPersonBoneOffset&lt;/code> は、&lt;code>lookAt.offsetFromHeadBone&lt;/code> になります&lt;/li>
&lt;/ul>
&lt;h2 id="vrmc_springbone">VRMC_springBone&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;/th>
&lt;th>VRM0&lt;/th>
&lt;th>VRM1&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>設定単位&lt;/td>
&lt;td>房&lt;/td>
&lt;td>節&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>子&lt;/td>
&lt;td>children[0]&lt;/td>
&lt;td>children のいずれか&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>末端&lt;/td>
&lt;td>7cm の遠さに 自動で追加&lt;/td>
&lt;td>追加しない&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;ul>
&lt;li>拡張を分離 =&amp;gt; 独立した &lt;code>VRMC_springBone&lt;/code> 拡張&lt;/li>
&lt;li>Collider 形状に Capsule を追加&lt;/li>
&lt;li>Unity座標系の混在を修正&lt;/li>
&lt;/ul>
&lt;h2 id="vrmc_materials_hdr_emissivemultiplier">VRMC_materials_hdr_emissiveMultiplier&lt;/h2>
&lt;p>エミッションによる発光表現です。&lt;/p>
&lt;p>glTF では emissiveFactor(float3) の値域が [0.0, 1.0] です。
これに係数を追加することで、1.0 を越える値を表せるようにします。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;/th>
&lt;th>VRM0&lt;/th>
&lt;th>VRM1&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>mtoon の emissiveFactor&lt;/td>
&lt;td>独自に格納していた(0, 1 制限が無い)&lt;/td>
&lt;td>gltf material の emissiveFactor に格納(0, 1 制限がある)&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>gltf-2.0 の標準マテリアル(PBR), VRMC_materials_mtoon から利用します。&lt;/p>
&lt;h2 id="vrmc_materials_mtoon">VRMC_materials_mtoon&lt;/h2>
&lt;ul>
&lt;li>拡張を分離 =&amp;gt; 独立した &lt;code>VRMC_materials_mtoon&lt;/code> 拡張&lt;/li>
&lt;/ul>
&lt;p>&lt;code>TODO&lt;/code>&lt;/p>
&lt;h2 id="vrmc_node_constraint">VRMC_node_constraint&lt;/h2>
&lt;p>&lt;code>開発中&lt;/code>&lt;/p>
&lt;h3 id="translation">translation&lt;/h3>
&lt;h3 id="rotation">rotation&lt;/h3>
&lt;h3 id="aim">aim&lt;/h3></description></item></channel></rss>