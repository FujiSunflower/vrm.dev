<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>VRM – VRMファイルを作ってみたい</title><link>https://vrm.dev/how_to_make_vrm/</link><description>Recent content in VRMファイルを作ってみたい on VRM</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Fri, 18 Sep 2020 15:27:25 +0900</lastBuildDate><atom:link href="https://vrm.dev/how_to_make_vrm/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: 0. Unityを用意して、UniVRMをインストールする</title><link>https://vrm.dev/docs/vrm/how_to_make_vrm/setup_unity/</link><pubDate>Wed, 26 Aug 2020 15:52:30 +0900</pubDate><guid>https://vrm.dev/docs/vrm/how_to_make_vrm/setup_unity/</guid><description>
&lt;h2 id="univrm-をダウンロードする">UniVRM をダウンロードする&lt;/h2>
&lt;p>&lt;a href="https://github.com/vrm-c/UniVRM/releases">https://github.com/vrm-c/UniVRM/releases&lt;/a>&lt;/p>
&lt;p>から最新版をダウンロードしてください。
ファイル名は、&lt;code>UniVRM-0.XX.0_YYYY.unitypackage&lt;/code> です。&lt;/p>
&lt;p>&lt;img src="https://vrm.dev/images/vrm/download_unitypackage.png" alt="download_unitypackage">&lt;/p>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">XX YY&lt;/h4>
XX は UniVRM のバージョン。YYYY は バージョン識別 ID です。
&lt;/div>
&lt;h2 id="unity-をインストールする">Unity をインストールする&lt;/h2>
&lt;p>&lt;a href="https://create.unity3d.com/jp-howto-install-win">https://create.unity3d.com/jp-howto-install-win&lt;/a>&lt;/p>
&lt;p>UniVRMの対応するバージョンの Unity をインストールしてください。
対応するUnityのバージョンは、&lt;code>UniVRM をダウンロードする&lt;/code> の URL をご確認ください。&lt;/p>
&lt;p>推奨バージョン以外を使う場合は、 &lt;a href="https://vrm.dev/docs/univrm/install/">インストール&lt;/a> もご確認ください。&lt;/p>
&lt;h2 id="unityで空のプロジェクトを作る">Unityで空のプロジェクトを作る&lt;/h2>
&lt;img src="https://vrm.dev/images/vrm/unity_new_project.png" />
&lt;p>もしくは&lt;/p>
&lt;img src="https://vrm.dev/images/vrm/new_project.jpg" />
&lt;p>Unityを起動し、プロジェクトを新規作成します。New→Create projectをクリック。&lt;/p>
&lt;h2 id="unity-に-univrm-unitypackage-を-import">Unity に UniVRM unitypackage を Import&lt;/h2>
&lt;p>メニューの &lt;code>Assets&lt;/code> - &lt;code>Import pacakge&lt;/code> - &lt;code>Custom Package&lt;/code> を選択して、
ダウンロードした &lt;code>UniVRM-0.XX.0_YYYY.unitypackage&lt;/code> を選んでください。&lt;/p>
&lt;img src="https://vrm.dev/images/vrm/package_import.jpg" alt="package_import" width="400" />
&lt;p>右下の &lt;code>import&lt;/code> ボタンを押します。&lt;/p>
&lt;h2 id="import-が成功したか確認する方法">import が成功したか確認する方法&lt;/h2>
&lt;p>VRM menu が表示されていれば動作しています：&lt;/p>
&lt;img src="https://vrm.dev/images/vrm/vrm_menu.jpg" alt="vrm menu" />
&lt;hr>
&lt;p>前のバージョン：&lt;/p>
&lt;img src="https://vrm.dev/images/vrm/vrm_menu_old.jpg" alt="vrm menu old" />
&lt;hr>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">Unity-2018 で menu が出てこない場合&lt;/h4>
&lt;code>ProjectSettings&lt;/code> - &lt;code>Player&lt;/code> - &lt;code>Other Settings&lt;/code> - &lt;code>Scripting Runtime Version&lt;/code> を &lt;code>.Net4.X equivalent&lt;/code> になっていることを確認してください
&lt;/div>
&lt;h3 id="console">Console&lt;/h3>
&lt;p>Console を表示させると、Unity のエラーメッセージが見れます。&lt;/p>
&lt;img src="https://vrm.dev/images/vrm/show_console.jpg" alt="show console" width="500" />
&lt;p>Console左上の clear ボタンを押して赤いメッセージが消えない場合は unitypackage のインストールに失敗しているなど、unity project に異常があります。&lt;/p>
&lt;img src="https://vrm.dev/images/vrm/error_in_console.jpg" alt="clear console" width="500" />
&lt;h2 id="manual">Manual&lt;/h2>
&lt;p>➡ &lt;a href="https://vrm.dev/docs/univrm/install/">インストール&lt;/a>&lt;/p></description></item><item><title>Docs: 1. VRMファイルを作成する</title><link>https://vrm.dev/how_to_make_vrm/convert_from_humanoid_model/</link><pubDate>Wed, 26 Aug 2020 15:52:06 +0900</pubDate><guid>https://vrm.dev/how_to_make_vrm/convert_from_humanoid_model/</guid><description>
&lt;h2 id="unityでhumanoidとして扱えるモデルデータを用意します">UnityでHumanoidとして扱えるモデルデータを用意します&lt;/h2>
&lt;p>ヒューマノイドモデルは、&lt;/p>
&lt;ul>
&lt;li>&lt;strong>必ずご自分で作られたモデル、ないし、加工しVRアバターとして使うことが許諾されているモデルデータをご用意ください&lt;/strong>。&lt;/li>
&lt;/ul>
&lt;p>後述しますが、&lt;/p>
&lt;ul>
&lt;li>&lt;strong>VRMファイル自体にライセンス情報を記述する項目がありますので、特にその項目については権利者自身が設定する&lt;/strong> ようにしてください。&lt;/li>
&lt;/ul>
&lt;p>また、Humanoid として認識させるために必須のボーンがすべて含まれている必要があります。&lt;/p>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">ベースモデル&lt;/h4>
使用可能なベースモデルの詳細は、 &lt;a href="https://vrm.dev/docs/univrm/humanoid/base_model/">BaseModel&lt;/a> を参照してください。
&lt;/div>
&lt;p>&lt;a href="https://github.com/vrm-c/vrm-specification/blob/master/specification/0.0/README.ja.md#%E5%AE%9A%E7%BE%A9%E3%81%97%E3%81%A6%E3%81%84%E3%82%8B%E3%83%9C%E3%83%BC%E3%83%B3">必須ボーン&lt;/a>&lt;/p>
&lt;h2 id="unity-に-fbx-を-import-する">unity に fbx を import する&lt;/h2>
&lt;p>fbx のフォルダを unityの Assets フォルダにドロップします。&lt;/p>
&lt;img src="https://vrm.dev/images/vrm/fbx_folder.jpg" />
&lt;p>unity&lt;/p>
&lt;img src="https://vrm.dev/images/vrm/assets_fbx.jpg" />
&lt;p>青いアイコンが fbx の asset(prefab) です。&lt;/p>
&lt;h2 id="fbx-の-material-を設定する">fbx の material を設定する&lt;/h2>
&lt;img src="https://vrm.dev/images/vrm/fbx_default.jpg" />
&lt;p>この時点では fbx importer による初期状態になっており、マテリアルがデフォルト状態(StandardShaderでColor, ColorTexture割り当てのみ。半透明設定が無いなど)なので、マテリアルを最低限設定します。
VRM 向けなので、この例では全部 &lt;code>MToon&lt;/code> にします。&lt;/p>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Shader&lt;/h4>
VRMは、&lt;a href="https://vrm.dev/docs/univrm/shaders/shader_mtoon/">MToon&lt;/a>、&lt;a href="https://vrm.dev/docs/univrm/shaders/univrm_unlit/">Unlit&lt;/a> と &lt;a href="https://vrm.dev/docs/univrm/shaders/univrm_standard/">Standard&lt;/a> の３種類を記録できます。
&lt;/div>
&lt;p>&lt;code>Extract Materials&lt;/code> ボタンを押して fbx のフォルダに &lt;code>Materials&lt;/code> フォルダを作成してそこを選択。&lt;/p>
&lt;img src="https://vrm.dev/images/vrm/extract_materials.jpg" alt="extract_materials" width="900" />
&lt;hr>
&lt;p>Shader をすべて &lt;code>VRM/Mtoon&lt;/code> に変更&lt;/p>
&lt;img src="https://vrm.dev/images/vrm/change_to_mtoon.jpg" alt="change_to_mtoon" />
&lt;hr>
&lt;p>MToon の &lt;code>Shade Color&lt;/code> を白に変更&lt;/p>
&lt;img src="https://vrm.dev/images/vrm/shade_color_to_white.jpg" alt="shade_color_to_white" />
&lt;hr>
&lt;img src="https://vrm.dev/images/vrm/alicia_preview.jpg" />
&lt;p>ちゃんとした設定はこちら。&lt;a href="https://vrm.dev/docs/univrm/shaders/shader_mtoon/">MToonの設定&lt;/a>&lt;/p>
&lt;p>手順の説明なので先に進みます。&lt;/p>
&lt;h2 id="fbx-を-humanoid-設定にする">fbx を humanoid 設定にする&lt;/h2>
&lt;p>fbx デフォルトは、generic 設定です。&lt;/p>
&lt;img src="https://vrm.dev/images/vrm/rig_generic.jpg" />
&lt;p>humanoid に変更します。&lt;/p>
&lt;img src="https://vrm.dev/images/vrm/select_humanoid.jpg" />
&lt;p>&lt;code>apply&lt;/code> を押します。&lt;/p>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">humanoid&lt;/h4>
このとき fbx importer がヒューマノイドボーンの割り当てを自動で推定します。
失敗する時もあり、成功しても間違っている場合もあります。
&lt;/div>
&lt;p>humanoid のボーン割り当て画面に入ります。&lt;/p>
&lt;p>&lt;code>configure&lt;/code> ボタンを押します。&lt;/p>
&lt;img src="https://vrm.dev/images/vrm/BoneMapping.png" alt="BoneMapping" width="600" />
&lt;p>ボーンの割り当てを確認してください。&lt;/p>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">bone&lt;/h4>
&lt;ul>
&lt;li>前髪に顎ボーンが割り当てられる&lt;/li>
&lt;li>目のハイライトに目ボーンが割り当てられる&lt;/li>
&lt;/ul>
&lt;p>などにご注意ください。
&lt;/div>
&lt;h2 id="prefab-をシーンに展開">prefab をシーンに展開&lt;/h2>
&lt;p>&lt;code>File&lt;/code> - &lt;code>New Scene&lt;/code> として、
fbx の prefab をシーンに展開します。&lt;/p>
&lt;img src="https://vrm.dev/images/vrm/DragImportedModel.png" width="600" />
&lt;h2 id="fbx-の-blendshpae-の法線が乱れていないか確認する">fbx の blendshpae の法線が乱れていないか確認する&lt;/h2>
&lt;p>BlendShapeで変な影が出る場合の対策です。&lt;/p>
&lt;p>&lt;a href="https://vrm.dev/docs/univrm/blendshape/check_blendshape_normal/">BlendShape の法線を確認しよう&lt;/a>&lt;/p>
&lt;h2 id="エクスポート">エクスポート&lt;/h2>
&lt;p>&lt;img src="https://vrm.dev/images/vrm/vrm_menu.jpg" alt="vrm_menu" width="250" />
&lt;br>&lt;/p>
&lt;p>&lt;code>VRM0&lt;/code> - &lt;code>Export UniVRM-0.XX&lt;/code> を押してダイアログを表示します。&lt;/p>
&lt;p>&lt;img src="https://vrm.dev/images/vrm/UniVRMExportHumanoid.jpg" alt="UniVRMExportHumanoid" width="400" />
&lt;br>&lt;/p>
&lt;p>前のバージョンは &lt;code>VRM&lt;/code> - &lt;code>UniVRM-0.XX&lt;/code> - &lt;code>Export humanoid&lt;/code>。&lt;/p>
&lt;img src="https://vrm.dev/images/vrm/export058_empty.jpg" width="600" />
&lt;p>&lt;code>Export Root&lt;/code> に prefab をシーンに展開した GameObject をドロップします。&lt;/p>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">エラー&lt;/h4>
&lt;p>エクスポートダイアログで各種エラーチェックをしています。&lt;/p>
&lt;ul>
&lt;li>赤いメッセージは解決する必要があります。&lt;/li>
&lt;li>黄色いメッセージは無視してエクスポートできます。&lt;/li>
&lt;/ul>
&lt;p>&lt;a href="https://vrm.dev/docs/univrm/export/univrm_export/">エクスポートダイアログ&lt;/a>&lt;/p>
&lt;/div>
&lt;p>&lt;img src="https://vrm.dev/images/vrm/export_dialog_title_version_author.jpg" width="900" />
&lt;br>
ライセンス情報を入力してください。赤いメッセージな無くなれば Export を押せます。
次の作業のため、&lt;code>Assets/models/vrm&lt;/code> フォルダを作成してそこにエクスポートしました。&lt;/p>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">エクスポート先&lt;/h4>
エクスポート先には、Unity の Assets 内、外どちらでも選択できます。
Assets 内を選択すると、Export 直後に Import が発動します(Importの方が重い)。
Assets 内を選択する場合は、新規に専用のフォルダを作成すると分かりやすくなります。
&lt;/div>
&lt;h2 id="エクスポートオプション">エクスポートオプション&lt;/h2>
&lt;img src="https://vrm.dev/images/vrm/export_options.jpg" width="900" />
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">T-Poseにする&lt;/h4>
自動で T-Pose 化します。このオプションを使わずにシーン上で見た目で T-Pose にしても問題ありません。
&lt;/div>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Pose Freeze&lt;/h4>
エクスポート時に正規化します。
最新版は、 &lt;code>ExportRoot&lt;/code> をセットしたときにヒエラルキーに回転・拡縮があるかどうかを調べて、このチェックボックスを自動で設定するようになっています。
&lt;/div></description></item><item><title>Docs: 2. VRMをセットアップする</title><link>https://vrm.dev/how_to_make_vrm/setup_vrm/</link><pubDate>Wed, 26 Aug 2020 15:52:30 +0900</pubDate><guid>https://vrm.dev/how_to_make_vrm/setup_vrm/</guid><description>
&lt;h2 id="vrmモデル">VRMモデル&lt;/h2>
&lt;p>前節で VRM 出力したモデルの prefab。&lt;/p>
&lt;p>&lt;strong>VRMファイルを、UnityのAssetsにドラッグ＆ドロップする&lt;/strong> だけで、VRMファイルがインポートされ &lt;strong>モデルデータのPrefabが生成されます&lt;/strong> 。&lt;/p>
&lt;p>&lt;img src="https://vrm.dev/images/vrm/vrm_prefab.png" />
&lt;img src="https://vrm.dev/images/vrm/vrm_components.jpg" />
&lt;/p>
&lt;ul>
&lt;li>正規化されている&lt;/li>
&lt;li>VRMMeta, Animator, VRMBlendShapeProxy, VRMFirstPerson, VRMLookAtHead, VRMLookAtBoneApplyer 等がアタッチされている&lt;/li>
&lt;/ul>
&lt;h2 id="vrm-の-prefabをシーンに展開する">VRM の Prefabをシーンに展開する&lt;/h2>
&lt;p>&lt;code>File&lt;/code> - &lt;code>New Scene&lt;/code>&lt;/p>
&lt;p>prefab をシーンに展開します。&lt;/p>
&lt;img src="https://vrm.dev/images/vrm/alicia_scene2.png" />
&lt;h2 id="vrm独自の設定を行う">VRM独自の設定を行う&lt;/h2>
&lt;img src="https://vrm.dev/images/vrm/vrm_settings.png" />
&lt;p>読み込まれたモデルデータをHierarchyで選択すると、&lt;strong>インスペクタにさまざまな設定項目&lt;/strong> があらわれます。また、&lt;strong>secondaryには揺れ物の設定&lt;/strong>が入っています。これらを設定していきます。
&lt;strong>少なくとも、&lt;a href="https://vrm.dev/docs/univrm/meta/univrm_meta/">タイトル・作者・ライセンス情報&lt;/a>&lt;/strong> は埋めるようにしてください。 &lt;strong>特にライセンス情報は重要です！&lt;/strong>&lt;/p>
&lt;p>ほかに、&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://vrm.dev/docs/univrm/blendshape/univrm_blendshape/">表情や口パクの設定（BlendShape）&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://vrm.dev/docs/univrm/firstperson/univrm_firstperson/">一人称視点の設定（一人称視点でモデルを操作する場合、邪魔になる頭などのパーツを指定する、標準の視点位置を設定する）&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://vrm.dev/docs/univrm/lookat/univrm_lookat/">視線・眼球の可動範囲と可動曲線の設定。ボーンによる眼球回転だけでなく、BlendShapeによる眼球アニメーションにも対応。&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://vrm.dev/docs/univrm/springbone/univrm_secondary/">揺れ物（SpringBone/SpringBoneCollider）の設定&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>がありますので必要に応じて設定していきます。&lt;/p>
&lt;h3 id="vrmファイルを出力する">VRMファイルを出力する&lt;/h3>
&lt;p>調整が終わったら、UnityのHierarchyでモデルデータを選択し、再度メニューから&lt;code>VRM0&lt;/code> - &lt;code>Export UniVRM-0.XX&lt;/code>を実行します。&lt;/p>
&lt;p>&lt;img src="https://vrm.dev/images/vrm/vrm_menu.jpg" alt="vrm_menu" width="250" />
&lt;br>&lt;/p>
&lt;p>前のバージョンは &lt;code>VRM&lt;/code> - &lt;code>UniVRM-0.XX&lt;/code> - &lt;code>Export humanoid&lt;/code>。&lt;/p>
&lt;p>&lt;img src="https://vrm.dev/images/vrm/UniVRMExportHumanoid.jpg" alt="UniVRMExportHumanoid" width="400" />
&lt;br>&lt;/p>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Pose Freeze&lt;/h4>
&lt;p>エクスポート時に正規化します。
最新版は、 &lt;code>ExportRoot&lt;/code> をセットしたときにヒエラルキーに回転・拡縮があるかどうかを調べて、このチェックボックスを自動で設定するようになっています。
最初の正規化以降でも、&lt;/p>
&lt;ul>
&lt;li>アクセサリを追加&lt;/li>
&lt;/ul>
&lt;p>などの場合に必要です。 &lt;code>ExportRoot&lt;/code> を再セットすれば自動判定します。&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://vrm.dev/docs/univrm/blendshape/univrm_bake_blendshape/">BlendShape の Bake&lt;/a> もあります。&lt;/li>
&lt;/ul>
&lt;/div>
&lt;h3 id="完成">完成！&lt;/h3>
&lt;p>これでセットアップ済のVRMファイルが出来ました。&lt;a href="https://vrm.dev/vrm_applications/">対応アプリケーション&lt;/a>に読み込ませてみましょう！&lt;/p></description></item><item><title>Docs: VRMの動作を確認する</title><link>https://vrm.dev/how_to_make_vrm/vrm_behavior_confirmation/</link><pubDate>Wed, 26 Aug 2020 15:52:48 +0900</pubDate><guid>https://vrm.dev/how_to_make_vrm/vrm_behavior_confirmation/</guid><description>
&lt;p>このセクションでは、作成したVRMモデルをUnity上で再生し挙動を確認することを想定しています。&lt;/p>
&lt;h3 id="目の動きを確認する">目の動きを確認する&lt;/h3>
&lt;p>&lt;code>AnimationClip/AnimationController&lt;/code>をセットしたり、&lt;code>VRMLookAtHead&lt;/code>の&lt;code>Target&lt;/code>に&lt;a href="https://vrm.dev/docs/univrm/lookat/univrm_lookat/#target">GameObject&lt;/a>をセットしたり（視線がどこを向くかの設定）、&lt;code>Head&lt;/code>欄にヘッドコンポーネントを探したり、実際にUnity上で動作を確認します。モデルはプレイモードでターゲット位置を追跡します（たとえば、&lt;code>GameObject -&amp;gt; 3D Object -&amp;gt; Cube&lt;/code>からターゲットとしてキュ​​ーブをヒエラルキーに作成できます）。シーンに配置されたオブジェクトをドラッグして、モデルの目がリアルタイムでオブジェクトを追跡しているかどうかをテストできます。モデルのクローズアップフェイスは、インスペクターウィンドウで見れます。&lt;/p>
&lt;p>&lt;img src="https://vrm.dev/images/vrm/LookAtTarget.png" alt="LookAtTarget" width="900" />
&lt;br>
&lt;br>
&lt;img src="https://vrm.dev/images/vrm/TargetTracking.png" alt="TargetTracking" width="500" />
&lt;/p>
&lt;h3 id="表情を確認する">表情を確認する&lt;/h3>
&lt;p>モデルの表情を確認するには、非常に簡単なテストスクリプト「AIUEO」と「Blinker」を用意しています。&lt;a href="https://vrm.dev/docs/univrm/blendshape/univrm_blendshape/#vrmblendshapeproxy">BlendShape&lt;/a>をセットアップした後、&lt;code>Add Component&lt;/code>から「AIUEO」を選んでセットすれば「あ」「い」「う」「え」「お」の口の形に順番に切り替わるアニメーションが、「Blinker」を選んでセットすれば定期的にまばたきのアニメーションが行われます。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;img src="https://vrm.dev/images/vrm/BlendShapeProxy.png" alt="BlendShapeProxy" width="650" />
&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>BlendShapeAvatar&lt;/code>フィールドにダブルクリックして、3Dモデルの表情を設定します&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;img src="https://vrm.dev/images/vrm/AddExpressionScripts.png" alt="AddExpressionScripts" width="650" />
&lt;br>
&lt;br>
&lt;img src="https://vrm.dev/images/vrm/InspectorFaceView.png" alt="InspectorFaceView" width="400" />
&lt;/p></description></item></channel></rss>