<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>VRM – mtoon-1.0</title><link>https://vrm.dev/tags/mtoon-1.0/</link><description>Recent content in mtoon-1.0 on VRM</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Thu, 07 Oct 2021 21:04:07 +0900</lastBuildDate><atom:link href="https://vrm.dev/tags/mtoon-1.0/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: Emission と グロー(発光)</title><link>https://vrm.dev/docs/gltf/emission_glow/</link><pubDate>Thu, 07 Oct 2021 21:04:07 +0900</pubDate><guid>https://vrm.dev/docs/gltf/emission_glow/</guid><description>
&lt;p>&lt;code>vrm-1.0 向けの独自拡張です&lt;/code>&lt;/p>
&lt;h2 id="対象のシェーダー">対象のシェーダー&lt;/h2>
&lt;ul>
&lt;li>&lt;code>Standard&lt;/code>&lt;/li>
&lt;li>&lt;code>VRM10/MToon10&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="unity-の-posteffect-の-グロー">Unity の PostEffect の グロー&lt;/h2>
&lt;p>Emission の値が 1 を越える場合に発光させるポストエフェクトです。&lt;/p>
&lt;img src="https://vrm.dev/images/vrm10/glow.jpg" width="300" />
&lt;p>1を超えて3や4にすることで強くなりますが &lt;code>glTF&lt;/code> の仕様上この値を格納することができません。&lt;/p>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">割り算で1におさめる&lt;/h4>
&lt;p>エクスポート時に下記の処理をして 最大値 1 に強制します。&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-cs" data-lang="cs">Vector3 emission;
&lt;span style="color:#078;font-weight:bold">var&lt;/span> max_value = get_max(emission); &lt;span style="color:#09f;font-style:italic">// r, g, b で最大の値を得る
&lt;/span>&lt;span style="color:#09f;font-style:italic">&lt;/span>&lt;span style="color:#069;font-weight:bold">if&lt;/span>(max_value&amp;gt;&lt;span style="color:#f60">1&lt;/span>)
{
emission = emission / max_value;
}
&lt;/code>&lt;/pre>&lt;/div>
&lt;/div>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">vrm-0.x は保存できる&lt;/h4>
vrm-0.x は [0-1] 制限が無いので保存できます。
&lt;/div>
&lt;h2 id="vrmc_materials_hdr_emissivemultiplier-拡張を作成しました">VRMC_materials_hdr_emissiveMultiplier 拡張を作成しました&lt;/h2>
&lt;p>emission に1を越える値を格納するために、&lt;code>VRMC_materials_hdr_emissiveMultiplier&lt;/code> を作りました。
EmissiveFactor に対して乗算する float 値 を定義します。&lt;/p>
&lt;p>&lt;code>EmissiveFactor = EmissiveFactor * multiplier(1より大きい値)&lt;/code> となります。&lt;/p>
&lt;p>&lt;code>UniVRM-0.79&lt;/code> 以降でVRM1/GLB/GLTF でエクスポート可能です。&lt;/p>
&lt;p>MToon と PBR マテリアルで有効です。&lt;/p>
&lt;p>PostEffectを設定済みのサンプルシーンがありますので
お試しください。&lt;/p>
&lt;p>&lt;code>UniVRM10-XXX.unitypackage&lt;/code>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>Assets\UniGLTF.Samples\LookDev\ballroom_1k.unity&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>Assets\UniGLTF.Samples\LookDev\lilienstein_1k.unity&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>Assets\UniGLTF.Samples\LookDev\moonless_golf_1k.unity&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>Assets\UniGLTF.Samples\LookDev\spruit_sunrise_1k.unity&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a href="https://github.com/vrm-c/UniVRM/pull/1123">https://github.com/vrm-c/UniVRM/pull/1123&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="unity-アプリでロードする方法">Unity アプリでロードする方法&lt;/h2>
&lt;ul>
&lt;li>&lt;code>UniVRM-0.79&lt;/code> 以降でロードしてください&lt;/li>
&lt;li>シーンに PostEffect を設定してください
&lt;ul>
&lt;li>&lt;code>Assets/UniGLTF.Samples/LookDev/RenderingServicePostProcessingProfile.asset&lt;/code> サンプルの profile があります&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="仕様">仕様&lt;/h2>
&lt;p>&lt;a href="https://github.com/vrm-c/vrm-specification/tree/master/specification/VRMC_materials_hdr_emissiveMultiplier-1.0_draft">https://github.com/vrm-c/vrm-specification/tree/master/specification/VRMC_materials_hdr_emissiveMultiplier-1.0_draft&lt;/a>&lt;/p></description></item></channel></rss>